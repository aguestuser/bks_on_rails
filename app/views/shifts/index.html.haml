- provide(:title, 'Shifts')

/Args

- case @caller
- when :restaurant
  - header = "Shifts for #{@restaurant.mini_contact.name}"
  - wrapper_class = 'span8 offset2'
  - entity = @restaurant
- when :rider
  - header = "Assignments for #{@rider.contact.name}"
  - wrapper_class = 'span8 offset2'
  - entity = @rider
- when nil
  - header = "Shifts"
  - wrapper_class = "span10 offset1"

/Header
%h1= header
/Hot Links
- if can? :manage, Shift
  = render 'hot_links', entity: entity
/Filters
.row
  %div{ class: wrapper_class+' filters' }
    = render 'filter_form'
/Pagination
.center
  = will_paginate @shifts

/Table
.row
  %div{ :class => wrapper_class }
    = render 'layouts/table', table: @shift_table

/Pagination
.center
  = will_paginate @shifts
/Hot Links
- if can? :manage, Shift
  %p.center
    = render 'hot_links', entity: entity
